import{_ as V,r as n,u as w,x as k,j as v,a as c,o as r,c as _,d as f,w as y,b as t,e as M,f as B,U as E,S as b,Y as g,F as x,P as L,g as N,Q as A}from"./app.79450079.js";import{A as S}from"./AppEditor.492501a9.js";import{A as U}from"./logo.58fb23e5.js";import{A as C}from"./AppHeader.3dfe0db9.js";const H={name:"tournament.index",components:{AppEditor:S,AppLoader:U,AppHeader:C},setup(){const i=n(""),o=n(""),p=n(""),e=n(),u=w(),l=n(!1),d=n(null);return k(async()=>{try{const a=await v.get("/api/admin/tournament");e.value=a.data}catch(a){console.log(a.message)}}),{submit:async()=>{l.value=!0;try{const a=await v.post("/api/admin/tournament/store",{title:i.value,yacht:o.value,description:p.value});u.dispatch("notification/displayMessage",{value:"\u0421\u0435\u0440\u0438\u044F \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0441\u043E\u0437\u0434\u0430\u043D\u0430",type:"primary"});const m=a.data.id;e.value.unshift({id:m,title:i.value,yacht:o.value}),i.value="",o.value="",d.value.clear(),l.value=!1}catch{u.dispatch("notification/displayMessage",{value:"\u041E\u0448\u0438\u0431\u043A\u0430 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F \u0441\u0435\u0440\u0438\u0438",type:"error"}),l.value=!1}},title:i,yacht:o,description:p,loading:l,tournaments:e,editor:d}}},D={class:"container-fluid g-0"},F={class:"row"},T={class:"col-12"},j={class:"dashboard-item"},P=t("h3",null,"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0441\u0435\u0440\u0438\u044E",-1),Q={class:"form-control"},Y=t("label",{for:"title"},"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0441\u0435\u0440\u0438\u0438",-1),q={class:"form-control"},z=t("label",{for:"yacht"},"\u0422\u0438\u043F \u043B\u043E\u0434\u043A\u0438",-1),G={class:"form-control"},I=t("label",{for:"description"},"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",-1),J=t("button",{class:"btn btn-default btn-settings"},"\u0421\u043E\u0437\u0434\u0430\u0442\u044C",-1),K=t("div",{class:"col-12"},[t("h2",{class:"mb30"},"\u0421\u043F\u0438\u0441\u043E\u043A \u0441\u0435\u0440\u0438\u0439")],-1),O={class:"stage-title"},R={class:"stage-yacht"},W=t("div",{class:"btn btn-default btn-full-width"},"\u041F\u043E\u0434\u0440\u043E\u0431\u043D\u0435\u0435",-1);function X(i,o,p,e,u,l){const d=c("AppHeader"),h=c("AppLoader"),a=c("AppEditor"),m=c("router-link");return r(),_(x,null,[f(d,null,{default:y(()=>[N("\u0421\u0435\u0440\u0438\u0438")]),_:1}),t("main",null,[t("div",D,[t("div",F,[t("div",T,[t("div",j,[e.loading?(r(),M(h,{key:0})):B("",!0),P,t("form",{onSubmit:o[3]||(o[3]=E((...s)=>e.submit&&e.submit(...s),["prevent"]))},[t("div",Q,[Y,b(t("input",{class:"form-input",type:"text",id:"title","onUpdate:modelValue":o[0]||(o[0]=s=>e.title=s),placeholder:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0441\u0435\u0440\u0438\u0438"},null,512),[[g,e.title]])]),t("div",q,[z,b(t("input",{class:"form-input",type:"text",id:"yacht","onUpdate:modelValue":o[1]||(o[1]=s=>e.yacht=s),placeholder:"\u0422\u0438\u043F \u043B\u043E\u0434\u043A\u0438"},null,512),[[g,e.yacht]])]),t("div",G,[I,f(a,{modelValue:e.description,"onUpdate:modelValue":o[2]||(o[2]=s=>e.description=s),id:"description",ref:"editor"},null,8,["modelValue"])]),J],32)])]),K,(r(!0),_(x,null,L(e.tournaments,s=>(r(),_("div",{class:"col-lg-3 col-md-6",key:s.id},[f(m,{to:{name:"tournament.edit",params:{id:s.id}},class:"stage-item"},{default:y(()=>[t("div",O,A(s.title),1),t("div",R,A(s.yacht),1),W]),_:2},1032,["to"])]))),128))])])])],64)}const ot=V(H,[["render",X]]);export{ot as default};
