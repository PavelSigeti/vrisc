import{r as v,j as A,_ as x,a as r,o as l,c as h,b as e,f as i,e as g,d as a,w as _,m as k,u as S,M as w,K as C,F}from"./app.99542f7f.js";import{F as E,a as B,E as M,A as O,c as L,b as y,_ as N}from"./logo.eb15b55a.js";function V(s){s?document.body.style.overflow="":document.body.style.overflow="hidden"}const q={name:"AppSupport",emits:["close"],components:{Field:E,Form:B,ErrorMessage:M,AppLoader:O},setup(){const s=v(!1),o=v(!1),c=L({title:y().required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043C\u0443").min(5,"\u041E\u0442 5 \u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432").max(128,"\u0414\u043E 128 \u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432"),text:y().required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043A\u0441\u0442").min(20,"\u041E\u0442 20 \u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432").max(1024,"\u0414\u043E 1024 \u0441\u0438\u0432\u043E\u043B\u043E\u0432")});return{submit:async u=>{s.value=!0;try{const p=await A.post("/api/feedback",u)}catch(p){console.log(p.message)}s.value=!1,o.value=!0},loading:s,validationSchema:c,done:o}}},H={class:"modal"},K={class:"support-container"},j={class:"support"},P={key:0,class:"support-done"},z=e("h2",null,"\u041E\u0431\u0440\u0430\u0442\u043D\u0430\u044F \u0441\u0432\u044F\u0437\u044C",-1),D={class:"form-control"},G=e("label",{for:"title"},"\u0422\u0435\u043C\u0430",-1),I={class:"form-control"},J=e("label",{for:"text"},"\u0421\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435",-1),Q=e("button",{class:"btn btn-default btn-full-width"},"\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C",-1);function R(s,o,c,t,u,p){const b=r("AppLoader"),m=r("Field"),n=r("ErrorMessage"),$=r("Form");return l(),h("div",H,[e("div",{class:"modal-background",onClick:o[0]||(o[0]=d=>{s.$emit("close")})}),e("div",K,[e("div",j,[t.done?(l(),h("div",P," \u0412\u0430\u0448\u0435 \u043E\u0431\u0440\u0430\u0449\u0435\u043D\u0438\u0435 \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u043E! ")):i("",!0),t.loading?(l(),g(b,{key:1})):i("",!0),e("div",{class:"close",onClick:o[1]||(o[1]=d=>{s.$emit("close")})}),z,a($,{onSubmit:t.submit,"validation-schema":t.validationSchema},{default:_(()=>[e("div",D,[a(m,{name:"title"},{default:_(({field:d,errors:f})=>[G,e("input",k(d,{id:"title",type:"text",class:["form-input",{invalid:!!f.length}],placeholder:"\u0422\u0435\u043C\u0430"}),null,16)]),_:1}),a(n,{class:"alert",name:"title"})]),e("div",I,[a(m,{name:"text"},{default:_(({field:d,errors:f})=>[J,e("textarea",k(d,{id:"text",class:["form-textarea",{invalid:!!f.length}],placeholder:"\u0421\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435"}),null,16)]),_:1}),a(n,{class:"alert",name:"text"})]),Q]),_:1},8,["onSubmit","validation-schema"])])])])}const T=x(q,[["render",R]]),U={name:"AppHeader.vue",components:{AppSupport:T},setup(){const s=v(!1),o=S();return{support:s,bodyOverflow:V,sidebar:()=>{o.dispatch("sidebar/toggleStatus")}}}},W={class:"dashboard-header"},X={class:"mobile-header"},Y={class:"mobile-header__left"},Z=e("div",{class:"bars"},null,-1),ee=[Z],oe=e("img",{src:N,alt:"vrisc logo",class:"logo"},null,-1),te={class:"header-content"},se={class:"header-container"},ne={class:"header-content hide767"};function ae(s,o,c,t,u,p){const b=r("router-link"),m=r("AppSupport");return l(),h(F,null,[e("header",W,[e("div",X,[e("div",Y,[e("div",{class:"sidebar-bars",onClick:o[0]||(o[0]=(...n)=>t.sidebar&&t.sidebar(...n))},ee),a(b,{class:"homepage-link",to:"/dashboard"},{default:_(()=>[oe]),_:1})]),e("div",te,[e("div",{class:"btn btn-border support-btn",onClick:o[1]||(o[1]=n=>{t.support=!0,t.bodyOverflow(!1)})},"\u041E\u0431\u0440\u0430\u0442\u043D\u0430\u044F \u0441\u0432\u044F\u0437\u044C"),i("",!0)])]),e("div",se,[e("h1",null,[w(s.$slots,"default")]),e("div",ne,[e("div",{class:"btn btn-border support-btn",onClick:o[2]||(o[2]=n=>{t.support=!0,t.bodyOverflow(!1)})},"\u041E\u0431\u0440\u0430\u0442\u043D\u0430\u044F \u0441\u0432\u044F\u0437\u044C"),i("",!0)])])]),(l(),g(C,null,[t.support?(l(),g(m,{key:0,onClose:o[3]||(o[3]=n=>{t.support=!1,t.bodyOverflow(!0)})})):i("",!0)],1024))],64)}const de=x(U,[["render",ae]]);export{de as A};
