import{_ as b,u as x,Z as A,r as l,a as d,o as u,c as h,d as m,w as V,b as t,e as y,f as w,U as f,S as _,Y as g,F as U,g as k}from"./app.79450079.js";import{A as B}from"./AppEditor.492501a9.js";import{A as C}from"./AppHeader.3dfe0db9.js";import{A as E}from"./logo.58fb23e5.js";const N={name:"page.create",components:{AppEditor:B,AppHeader:C,AppLoader:E},setup(){const c=x(),e=A(),a=l(!1),o=l(),r=l(),i=l("");return{submit:async()=>{a.value=!0;try{const n=await axios.post("/api/admin/page/store",{title:o.value,slug:r.value,text:i.value});e.push(`/admin/page/${n.data}`)}catch{c.dispatch("notification/displayMessage",{value:"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u0438 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u044B",type:"error"})}a.value=!1},title:o,text:i,slug:r,loading:a}}},S={class:"container-fluid g-0"},H={class:"row"},L={class:"col-12"},M={class:"dashboard-item"},R={class:"form-control"},F=t("label",{for:"title"},"\u0417\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A",-1),I={class:"form-control"},T=t("label",{for:"slug"},"URI (Slug)",-1),D={class:"form-control"},Y=t("label",{for:"content"},"\u0421\u043E\u0434\u0435\u0440\u0436\u0430\u043D\u0438\u0435",-1);function Z(c,e,a,o,r,i){const p=d("AppHeader"),n=d("AppLoader"),v=d("AppEditor");return u(),h(U,null,[m(p,null,{default:V(()=>[k("\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443")]),_:1}),t("main",null,[t("div",S,[t("div",H,[t("div",L,[t("div",M,[o.loading?(u(),y(n,{key:0})):w("",!0),t("form",{onSubmit:e[4]||(e[4]=f(()=>{},["prevent"]))},[t("div",R,[F,_(t("input",{class:"form-input",type:"text",name:"title","onUpdate:modelValue":e[0]||(e[0]=s=>o.title=s),id:"title",placeholder:"\u0417\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A"},null,512),[[g,o.title]])]),t("div",I,[T,_(t("input",{class:"form-input",type:"text",name:"slug","onUpdate:modelValue":e[1]||(e[1]=s=>o.slug=s),id:"slug",placeholder:"URI (\u0427\u041F\u0423)"},null,512),[[g,o.slug]])]),t("div",D,[Y,m(v,{modelValue:o.text,"onUpdate:modelValue":e[2]||(e[2]=s=>o.text=s),id:"content"},null,8,["modelValue"])]),t("button",{class:"btn btn-default btn-settings",onClick:e[3]||(e[3]=f((...s)=>o.submit&&o.submit(...s),["prevent"]))},"\u0421\u043E\u0437\u0434\u0430\u0442\u044C")],32)])])])])])],64)}const J=b(N,[["render",Z]]);export{J as default};
